{
  "hash": "e234e49606b1b05a989174744c4910cf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Customer Churn Analysis\"\nauthor: \"Aheer Srabon\"\ndate: today\nformat: html\n---\n\n\n\n# Uni-variate & Distributional Analysis\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:auto; overflow-x: scroll; width:100%; \"><table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Summary of the Dataset</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Variable </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Mean </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Median </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Sd </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Min </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Q1 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Q2 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Q3 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Q4 </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Max </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Age </td>\n   <td style=\"text-align:right;\"> 49.09 </td>\n   <td style=\"text-align:right;\"> 50.00 </td>\n   <td style=\"text-align:right;\"> 18.17 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 34.00 </td>\n   <td style=\"text-align:right;\"> 50.00 </td>\n   <td style=\"text-align:right;\"> 65.00 </td>\n   <td style=\"text-align:right;\"> 80.00 </td>\n   <td style=\"text-align:right;\"> 80.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tenure </td>\n   <td style=\"text-align:right;\"> 34.68 </td>\n   <td style=\"text-align:right;\"> 34.00 </td>\n   <td style=\"text-align:right;\"> 21.04 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 16.00 </td>\n   <td style=\"text-align:right;\"> 34.00 </td>\n   <td style=\"text-align:right;\"> 52.25 </td>\n   <td style=\"text-align:right;\"> 72.00 </td>\n   <td style=\"text-align:right;\"> 72.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> MonthlyCharges </td>\n   <td style=\"text-align:right;\"> 68.51 </td>\n   <td style=\"text-align:right;\"> 69.02 </td>\n   <td style=\"text-align:right;\"> 29.07 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 43.74 </td>\n   <td style=\"text-align:right;\"> 69.02 </td>\n   <td style=\"text-align:right;\"> 92.65 </td>\n   <td style=\"text-align:right;\"> 119.77 </td>\n   <td style=\"text-align:right;\"> 119.77 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TotalCharges </td>\n   <td style=\"text-align:right;\"> 2339.68 </td>\n   <td style=\"text-align:right;\"> 1900.12 </td>\n   <td style=\"text-align:right;\"> 1808.26 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 938.64 </td>\n   <td style=\"text-align:right;\"> 1900.12 </td>\n   <td style=\"text-align:right;\"> 3380.87 </td>\n   <td style=\"text-align:right;\"> 8444.03 </td>\n   <td style=\"text-align:right;\"> 8444.03 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:auto; overflow-x: scroll; width:100%; \"><table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Random 10 samples from the dataset</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Gender </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Age </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Tenure </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> PhoneService </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> InternetService </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Contract </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> MonthlyCharges </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> TotalCharges </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Churn </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 52.48 </td>\n   <td style=\"text-align:right;\"> 2466.56 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:right;\"> 53.24 </td>\n   <td style=\"text-align:right;\"> 745.36 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 27.69 </td>\n   <td style=\"text-align:right;\"> 27.69 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 73.22 </td>\n   <td style=\"text-align:right;\"> 3075.24 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> DSL </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:right;\"> 47.30 </td>\n   <td style=\"text-align:right;\"> 2554.20 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 62 </td>\n   <td style=\"text-align:right;\"> 58 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:right;\"> 103.16 </td>\n   <td style=\"text-align:right;\"> 5983.28 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:right;\"> 31.57 </td>\n   <td style=\"text-align:right;\"> 1325.94 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:right;\"> 92.61 </td>\n   <td style=\"text-align:right;\"> 2407.86 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> DSL </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:right;\"> 73.99 </td>\n   <td style=\"text-align:right;\"> 1479.80 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 104.30 </td>\n   <td style=\"text-align:right;\"> 2816.10 </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n## Numeric Distributions (Histograms)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-2-1.png){width=1200}\n:::\n:::\n\n\n## Categorical Counts (Phone/Internet/Contract)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-3-1.png){width=1200}\n:::\n:::\n\n\n## Categorical Proportions by Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-4-1.png){width=1200}\n:::\n:::\n\n\n## Missingness Overview\n\nAs can be seen from the following table, there is no missing data.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-5-1.png){width=1200}\n:::\n:::\n\n\n## Skewness\n\n### Quick skew check (numeric)\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Skewness</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> feature </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> median </th>\n   <th style=\"text-align:right;\"> sd </th>\n   <th style=\"text-align:right;\"> p99 </th>\n   <th style=\"text-align:left;\"> skew_hint </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> TotalCharges </td>\n   <td style=\"text-align:right;\"> 1000 </td>\n   <td style=\"text-align:right;\"> 2339.68 </td>\n   <td style=\"text-align:right;\"> 1900.12 </td>\n   <td style=\"text-align:right;\"> 1808.26 </td>\n   <td style=\"text-align:right;\"> 7247.88 </td>\n   <td style=\"text-align:left;\"> Right-skewed </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Age </td>\n   <td style=\"text-align:right;\"> 1000 </td>\n   <td style=\"text-align:right;\"> 49.09 </td>\n   <td style=\"text-align:right;\"> 50.00 </td>\n   <td style=\"text-align:right;\"> 18.17 </td>\n   <td style=\"text-align:right;\"> 80.00 </td>\n   <td style=\"text-align:left;\"> Left-skewed </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tenure </td>\n   <td style=\"text-align:right;\"> 1000 </td>\n   <td style=\"text-align:right;\"> 34.68 </td>\n   <td style=\"text-align:right;\"> 34.00 </td>\n   <td style=\"text-align:right;\"> 21.04 </td>\n   <td style=\"text-align:right;\"> 72.00 </td>\n   <td style=\"text-align:left;\"> Right-skewed </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> MonthlyCharges </td>\n   <td style=\"text-align:right;\"> 1000 </td>\n   <td style=\"text-align:right;\"> 68.51 </td>\n   <td style=\"text-align:right;\"> 69.02 </td>\n   <td style=\"text-align:right;\"> 29.07 </td>\n   <td style=\"text-align:right;\"> 118.93 </td>\n   <td style=\"text-align:left;\"> Left-skewed </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n### Skew check\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-7-1.png){width=1200}\n:::\n\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-7-2.png){width=1200}\n:::\n\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-7-3.png){width=1200}\n:::\n\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-7-4.png){width=1200}\n:::\n:::\n\n\n## Churn vs Non-Churn Proportions\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Categorical features of interest</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Churn </th>\n   <th style=\"text-align:left;\"> Feature </th>\n   <th style=\"text-align:left;\"> Level </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Gender </td>\n   <td style=\"text-align:left;\"> Male </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Gender </td>\n   <td style=\"text-align:left;\"> Female </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> Gender </td>\n   <td style=\"text-align:left;\"> Female </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> InternetService </td>\n   <td style=\"text-align:left;\"> DSL </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> PhoneService </td>\n   <td style=\"text-align:left;\"> No </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n### Stacked bar (counts by category)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-9-1.png){width=1200}\n:::\n:::\n\n\n### Normalized bar (proportions within each category)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-10-1.png){width=1200}\n:::\n:::\n\n\n# Bivariate (Churn vs. Features)\n\n\n::: {.cell}\n\n:::\n\n\n## Churn rate by `Tenure` bins (0-6, 6-12, 12-24, 24-48, 48+)\n\n`Tenure` is how long a customer has been with the company (in months). Following is the hypothesis,\n\n::: {style=\"text-align: center; width: 50%\"}\nCustomer who are **new** (short tenure) are more likely to churn; customers who have stayed longer are \"stickier\"\n:::\n\nTo test this,\n\n1.  Group customers into **bins** of tenure (0-6 months, 6-12, etc.).\n2.  Compute **churn rate** = (# churned customers) / (total customers) in each bin.\n3.  Plot churn rate across bins to visualize patterns.\n\nIf churn is very high in 0-6 months bin, that means the company has an **onboarding / early experience** problem.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Data Frame with Tenure Bin tags</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Gender </th>\n   <th style=\"text-align:right;\"> Age </th>\n   <th style=\"text-align:left;\"> Contract </th>\n   <th style=\"text-align:left;\"> Tenure Bin </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:left;\"> 0–6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:left;\"> 6–12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:left;\"> 24–48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:left;\"> 12–24 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:left;\"> 0–6 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n-   `n` = number of customers\n\n-   `churn_yes` = number of churned customers\n\n-   `p` = `churn_yes` / `n` = churn proportion\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Tenure statistics</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> level </th>\n   <th style=\"text-align:right;\"> churn_yes </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> p </th>\n   <th style=\"text-align:right;\"> p_lo </th>\n   <th style=\"text-align:right;\"> p_hi </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 0–6 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 0.18 </td>\n   <td style=\"text-align:right;\"> 0.12 </td>\n   <td style=\"text-align:right;\"> 0.27 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 6–12 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 0.19 </td>\n   <td style=\"text-align:right;\"> 0.12 </td>\n   <td style=\"text-align:right;\"> 0.28 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 12–24 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 178 </td>\n   <td style=\"text-align:right;\"> 0.19 </td>\n   <td style=\"text-align:right;\"> 0.14 </td>\n   <td style=\"text-align:right;\"> 0.26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 24–48 </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 333 </td>\n   <td style=\"text-align:right;\"> 0.15 </td>\n   <td style=\"text-align:right;\"> 0.12 </td>\n   <td style=\"text-align:right;\"> 0.20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 48+ </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 295 </td>\n   <td style=\"text-align:right;\"> 0.19 </td>\n   <td style=\"text-align:right;\"> 0.15 </td>\n   <td style=\"text-align:right;\"> 0.24 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nBecause churn rate is an estimate from data, we add 95% confidence interval using the Wilson method.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-13-1.png){width=1200}\n:::\n:::\n\n\n## Contract Type vs. Churn\n\nGoal: Show how churn differs by contract type. Hypothesis: Month-to-month has higher churn than One/Two year contracts.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-14-1.png){width=1200}\n:::\n:::\n\n\n## Internet Service vs. Churn\n\nGoal: Compare churn across DSL / Fiber optic / No Internet.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-15-1.png){width=1200}\n:::\n:::\n\n\n## Numeric Densities by Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-16-1.png){width=1200}\n:::\n:::\n\n\n## Numeric Box Plots by Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-17-1.png){width=1200}\n:::\n:::\n\n\n## Numeric Violin Plots by Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-18-1.png){width=1200}\n:::\n:::\n\n\n# Multivariate Relationships\n\n## Age x Tenure x Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:auto; overflow-x: scroll; width:100%; \"><table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Data for `Tenure Distribution by Age Group and Churn'</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Gender </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Age </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Tenure </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> PhoneService </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> InternetService </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Contract </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> MonthlyCharges </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> TotalCharges </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Churn </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> AgeGroup </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:right;\"> 71.10 </td>\n   <td style=\"text-align:right;\"> 3199.50 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> 30-50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:right;\"> 106.29 </td>\n   <td style=\"text-align:right;\"> 4676.76 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> &lt;30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 31 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> DSL </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:right;\"> 28.75 </td>\n   <td style=\"text-align:right;\"> 891.25 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> 50+ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> DSL </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 41.13 </td>\n   <td style=\"text-align:right;\"> 370.17 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> 50+ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 27.86 </td>\n   <td style=\"text-align:right;\"> 1002.96 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> 50+ </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\nFollowing plot shows distributions of Tenure across age groups and split by Churn,\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-20-1.png){width=1200}\n:::\n:::\n\n\nFor extra clarity, following is a Heatmap,\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> AgeBin </th>\n   <th style=\"text-align:left;\"> TenureBin </th>\n   <th style=\"text-align:right;\"> ChurnRate </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> [38,48) </td>\n   <td style=\"text-align:left;\"> [48,72) </td>\n   <td style=\"text-align:right;\"> 0.27 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [68,78] </td>\n   <td style=\"text-align:left;\"> [6,12) </td>\n   <td style=\"text-align:right;\"> 0.07 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> [12,24) </td>\n   <td style=\"text-align:right;\"> 0.22 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [38,48) </td>\n   <td style=\"text-align:left;\"> [24,48) </td>\n   <td style=\"text-align:right;\"> 0.11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> [48,58) </td>\n   <td style=\"text-align:left;\"> [24,48) </td>\n   <td style=\"text-align:right;\"> 0.16 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-21-1.png){width=1200}\n:::\n:::\n\n\n## MonthlyCharges x Contract x Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-22-1.png){width=1200}\n:::\n:::\n\n\n## InternetService x Contract (churn risk heatmap)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-23-1.png){width=1200}\n:::\n:::\n\n\n# Feature Engineering for EDA\n\n## Customer lifetime value proxy\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:auto; overflow-x: scroll; width:100%; \"><table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Gender </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Age </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Tenure </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> PhoneService </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> InternetService </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Contract </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> MonthlyCharges </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> TotalCharges </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Churn </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> CLTV </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 29 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> One year </td>\n   <td style=\"text-align:right;\"> 53.69 </td>\n   <td style=\"text-align:right;\"> 1557.01 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:right;\"> 1557.01 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Female </td>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> Fiber optic </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:right;\"> 80.77 </td>\n   <td style=\"text-align:right;\"> 646.16 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:right;\"> 646.16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> Month-to-month </td>\n   <td style=\"text-align:right;\"> 36.45 </td>\n   <td style=\"text-align:right;\"> 1166.40 </td>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:right;\"> 1166.40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> None </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 67.09 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Male </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> DSL </td>\n   <td style=\"text-align:left;\"> Two years </td>\n   <td style=\"text-align:right;\"> 37.73 </td>\n   <td style=\"text-align:right;\"> 264.11 </td>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:right;\"> 264.11 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-24-1.png){width=1200}\n:::\n:::\n\n\n## At-risk cohorts (cohort flagging)\n\nCreate a derived feature for risk segments,\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-25-1.png){width=1200}\n:::\n:::\n\n\n# Correlation & Association\n\n## Numeric-only correlation matrix\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-26-1.png){width=1200}\n:::\n:::\n\n\n## Chi-square + Cramer’s V for categorical vs. Churn\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Cramér’s V - Effect size measure</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> variable </th>\n   <th style=\"text-align:right;\"> chisq_stat </th>\n   <th style=\"text-align:right;\"> df </th>\n   <th style=\"text-align:right;\"> p_value </th>\n   <th style=\"text-align:right;\"> cramers_v </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Contract </td>\n   <td style=\"text-align:right;\"> 436.65 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.66 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Gender </td>\n   <td style=\"text-align:right;\"> 2.34 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.13 </td>\n   <td style=\"text-align:right;\"> 0.05 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PhoneService </td>\n   <td style=\"text-align:right;\"> 0.88 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.35 </td>\n   <td style=\"text-align:right;\"> 0.03 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> InternetService </td>\n   <td style=\"text-align:right;\"> 1.30 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.52 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nWhich shows that, to predict churn, Contract is a strong (because of low p_value) predictor. Next up are, Gender, PhoneService, and InternetService.\n\n## Mutual information (any type $\\rightarrow$ Churn)\n\nMutual Information is a great way to rank all features (numeric + categorical) together by how much they help explain churn. It complements correlation, Chi-square, and Cramér’s V by giving a unified importance measure.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Importance of variables</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> attributes </th>\n   <th style=\"text-align:right;\"> importance </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Contract </td>\n   <td style=\"text-align:right;\"> 0.238949 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Gender </td>\n   <td style=\"text-align:right;\"> 0.001304 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> InternetService </td>\n   <td style=\"text-align:right;\"> 0.000644 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PhoneService </td>\n   <td style=\"text-align:right;\"> 0.000519 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-29-1.png){width=1200}\n:::\n:::\n\n\n# Survival-style Analysis\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-30-1.png){width=1200}\n:::\n\n::: {.cell-output-display}\n![](churn_analysis_files/figure-html/unnamed-chunk-30-2.png){width=1200}\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}